Thank you for installing cert-manager-webhook-spaceship!

Your webhook for Spaceship DNS provider has been deployed successfully.

To use this webhook, you will need to create an Issuer or ClusterIssuer that references it.

For example:

apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt-prod
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    email: your-email@example.com
    privateKeySecretRef:
      name: letsencrypt-prod
    solvers:
    - dns01:
        webhook:
          groupName: acme.spaceship.com
          solverName: spaceship
          config:
            baseUrl: https://spaceship.dev/api
            apiKeySecretRef:
              name: spaceship-api-key
              key: api-key

Make sure to create a secret containing your Spaceship API key:

kubectl create secret generic spaceship-api-key \\
  --from-literal=api-key='YOUR_SPACESHIP_API_KEY' \\
  --namespace=cert-manager

Then you can create a Certificate resource that references your issuer:

apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: argocd-djasko-com
spec:
  secretName: argocd-djasko-com-tls
  issuerRef:
    name: letsencrypt-prod
    kind: ClusterIssuer
  dnsNames:
  - argocd.djasko.com